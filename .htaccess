---
layout: nil
---
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html
<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{HTTP_HOST} ^www.plugfr.org$
    RewriteRule ^(.*) http://plugfr.org/$1  [QSA,L,R=301]

    RewriteCond %{QUERY_STRING} ^id_article\=(.+)$
    RewriteRule ^spip/article.php3$ /r/%1?
    RewriteCond %{QUERY_STRING} ^id_rubrique\=(.+)$
    RewriteRule ^spip/rubrique.php3$ /archives/categories.html? [R=301,L]
    RewriteRule 7-mai-2010 /r/167 [R=301,L]
{% for post in site.posts %}
    {% if post.post_id != null %}RewriteRule ^r/{{ post.post_id }}/?$ {{ post.url }} [R=301,L]{% endif %}
{% endfor %}
    RewriteRule ^s5(.+) /pub/s5$1 [R=301,L]
    RewriteRule ^r/(57|103)$ /association/mailing-lists.html [R=301,L]
    RewriteRule ^spip/?$ / [R=301,L]
    RewriteRule ^spip/contact.php /contact/ [R=301,L]
    RewriteRule ^spip/backend.php3 /feeds/articles.xml [R=301,L]
    RewriteRule ^wiki(.+)? http://wiki.plugfr.org$1 [R=301,L]
</IfModule>

<IfModule mod_expires.c>
  # turn on the module for this directory
  ExpiresActive on

  # cache common graphics for 30 days
  ExpiresByType image/jpg "access plus 30 days" 
  ExpiresByType image/gif "access plus 30 days" 
  ExpiresByType image/jpeg "access plus 30 days" 
  ExpiresByType image/png "access plus 30 days" 

  # cache css and javascript for 3 days
  ExpiresByType text/javascript "access plus 3 days" 
  ExpiresByType application/x-javascript "access plus 3 days" 
  ExpiresByType text/css "access plus 3 days"
 
  ExpiresDefault "access plus 24 hours" 
</IfModule>

<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE application/x-javascript text/html text/plain text/css text/javascript text/xml
  BrowserMatch ^Mozilla/4 gzip-only-text/html
  BrowserMatch ^Mozilla/4.0[678] no-gzip
  BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
</IfModule>